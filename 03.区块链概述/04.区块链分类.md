## 区块链分类

### 公有链

概述：公有链上的各个节点可以自由加入和退出网络，并参加链上数据的读写，读写时以扁平的拓扑结构互联互通，网络中不存在任何中心化的服务端节点。像大家所熟悉的比特币和以太坊，都是一种公有链。公有链的好处是没有限制，你可以自由参加。公有链通常被认为是“完全去中心化”的。

特点：

1. 保护用户免受开发者的影响：在公有链中程序开发者无权干涉用户，所以区块链可以保护使用他们开发的程序的用户。
2. 访问门槛低：任何拥有足够技术能力的人都可以访问，也就是说，只要有一台能够联网的计算机就能够满足访问的条件。
3. 所有数据默认公开：尽管所有关联的参与者都隐藏自己的真实身份，这种现象十分的普遍。他们通过他们的公共性来产生自己的安全性，在这里每个参与者可以看到所有的账户余额和其所有的交易活动。

应用：公有链包括比特币、以太坊、超级账本以及智能合约，其中公有链的始祖是比特币区块链。

### 联盟链

联盟链的各个节点通常有与之对应的实体机构组织，通过授权后才能加入与退出网络。各机构组织组成利益相关的联盟，共同维护区块链的健康运转。

从某种程度上来说，其实联盟链也属于私有链，但它私有的程度不同，其权限设计要求更复杂，可信度更高。

联盟链（Consortium Blockchain)是介于公有链与私有链之间的一种系统形态，它往往由多个中心控制。由若干组织一起合作维护一条区块链，该区块链的使用必须是带有权限的限制访问，相关信息会得到保护，如供应链机构或银行联盟。有专家指出，联盟链的本质是分布式托管记账系统，系统由组织指定的多个“权威”节点控制，这些节点之间根据共识机制对整个系统进行管理与送作。联盟链可视为“部分去中心化”，公众可以査阅和交易，但验证交易或发布智能合约需获得联盟许可。

联盟链的典型特点是，各个节点通常有对应的实体机构，只有得到联盟的批准才能加入或退出系统。各个利益相关的机构组织在区块链上展开紧密地合作，并共同维护系统健康稳定的发展。

成立于2015年9月的R3区块链联盟是最典型的联盟链，目前已经有数十家国际银行和金融机构加入，成员遍及全球。这些成员包括纽约梅隆银行、花旗集团、德国商业银行、德意 志银行、汇丰银行、日本三菱UFJ金融集团、澳大利亚国民银 行、加拿大皇家银行、法国兴业银行、多伦多道明银行、中国平安、瑞穗银行、北欧银行、意大利联合信贷银行、巴黎银行、富国银行、荷兰国际集团、麦格理银行、加拿大帝国商业银行等金融机构。

### 私有链

区块链是指其写入权限仅在一个组织手里的区块链。读取权限或者对外开放，或者被任意程度地进行了限制。

特点：

1. 交易速度非常之快：一个私有链的交易速度可以比任何其他的区块链都快，甚至接近了并不是一个区块链的常规数据库的速度。这是因为就算少量的节点也都具有很高的信任度，并不需要每个节点来验证一个交易。
2. **给隐私更好的保障：**私有链使得在那个区块链上的数据隐私政策像在另一个数据库中似的完全一致；不用处理访问权限和使用所有的老办法，但至少说，这个数据不会公开地被拥有网络连接的任何人获得。
3. **交易成本大幅降低甚至为零：**私有链上可以进行完全免费或者至少说是非常廉价的交易。
4. **有助于保护其基本的产品不被破坏：**正是这一点使得银行等金融机构能在目前的环境中欣然接受私有链，银行和政府在看管他们的产品上拥有既得利益，用于跨国贸易的国家法定货币仍然是有价值的。由于公有链的直接应用是保护像比特币这样新型的非国家性质的货币，对核心利润流或组织构成了破坏性的威胁，这些实体机构应该会不惜一切代价去避免损害。

### 基础链

所谓基础链，在理解起来就是提供底层的且通用的各类开发协议和工具，方便开发者在上面快速开发出各种DAPP的一种区块链，一般以公有链为主，提供接口快速开发相关应用。（ ETH, EOS:企业操作系统）

### 行业链

所谓行业链，业内似乎没有统一的定义，觉得是在底层技术上不如基础链，且为某些行业特别定制的基础协议和工具。如果把基础链成为通用性公链，则你可以把行业链理解为专用性公链。典型案例：BTM、GXS、SEER

### 侧链

侧链本身是一种协议，一种可跨区块链解决的方案，旨在实现双向锚定。
 侧链（sidechains）实质上不是特指某个区块链，而是指遵守侧链协议的所有区块链的统称，该名词是相对与比特币主链来说的。侧链协议是指：可以让比特币安全地从比特币主链转移到其他区块链，又可以从其他区块链安全地返回比特币主链的一种协议。主链可以理解为是一种独立的区块链网络。侧链架构的好处是代码和数据独立，不增加主链的负担，避免数据过度膨胀，实际上是一种天然的分片机制。即网络分片技术(并行化的分而治之)，来实现高吞吐量。

> 在以太坊上进行交易的花费十分高，为了能让用户用更低的价格享受到以太坊提供的便利，许多人提出了众多以太坊的扩容方案，其中之一就是侧链。
>
> 以太坊是`L1`层的公链，使用`Rollup`等机制，可以在公链的基础上做扩展链，或者将其称为`L2`层的公链或者侧链。
>
> 
>
> 侧链的作用：
>
> L2层公链或者侧链首先是依赖于L1层的公链的，它的目的有两个：
>
> - 加速交易：用户希望自己的交易被L1层公链记录，但是又不想等待太长的确认时间，于是可以借助侧链作为代理，把自己的交易在侧链上发布，然后由侧链在主链上的交易来间接证明自己的交易的合法性。
> - 降低费用：主链上的交易费用特别高这是不争的事实，侧链通过压缩交易并上传公链的方式来降低成本，从中赚取收益。这样用户可以以更低的费用享受公链的安全性，又可以降低成本。
>
> 
>
> 侧链的开销：
>
> 不同于公链，公链的角色仅仅只有公链本身和用户两种角色，而侧链具有用户，运行者和公链三种角色。运行者是侧链中的独有角色，位于用户和公链之间。下面我们分析一下侧链中运行者的收益和开销（运行者把用户交易数据压缩，并将其作为参数发送给`L1`层公链上的合约。这个过程的开销集中在`L1`层。）：
>
> 1. 运行成本
> 2. `L1`层公链上发布数据的开销
>
> 
>
> 侧链的收益：
>
> 1. 交易价值：用户需要记录交易就需要支付侧链的手续费。当然，`L2`层运行者需要把用户的交易发送到`L1`层公链上面，这个过程要消耗运行者的费用。
> 2. 代币发放：侧链可以发布自己的虚拟货币来促进系统内部的经济流转和给运行者挖矿提供奖励。
>
> 劣势：侧链存在的劣势主要是安全性的问题，我们可以保证`L1`层的公链的安全性是由于`PoW`共识机制，但是`L2`层侧链考虑到交易速度和交易费用的问题，可能需要使用非`PoW`共识机制，这也给安全性带来了一定问题。

侧链与主链的沟通方式：侧链与主链沟通的过程被称为成为 “双向锚定”（也称“双向挂钩”，2WP）。“锚定”一词在经济学中较为常见，指双方交易中一方要以另一方的行动为基准。在区块链中，由于比特币实际上不是简单的“转移”，而是暂时将其在比特币区块链上锁定，之后将等量等值的代币在侧链上释放。当等量等值的代币在侧链上被锁定时，比特币区块链上的原始比特币就可以被释放了。因此，“双向锚定”实际上就是一方是否解锁，要以另一方是否已经有投币行为为基准。

双向锚定中的管理模式

单一托管人模式：是一个由可信任的第三方机构来锁定、监管双方资产的模式。第三方相当中介。

![在这里插入图片描述](imags\17.png)

 图2：来自csdn用户：Wizard go

用户想将主链上的比特币放到侧链上。那么，只需要把钱包，和侧链拥有代币的钱包共同交给交易所（第三方）管理就可以了。到时候，交易所可以来验证、监督两条链是否投在钱包里投入的等值等量的币，锁定币，继续验证，然后再释放。

联盟托管模式**：** 联盟模式是使用公证人联盟来取代单一的保管方，利用公证人联盟的多重签名对侧链的数字资产流动进行确认。在这种模式中，如果要想盗窃主链上冻结的数字资产就需要突破更多的机构，但是侧链安全仍然取决于公证人联盟的诚实度。

侧链交易验证：侧链协议中，用SPV （“简单支付验证”，Simplified Payment Verification ），来证明一个交易确实已经在区块链中发生过，称为 SPV 证明（SPV Proof）。一个 SPV 证明包括两部分内容：一组区块头的列表，表示工作量证明；一个特定输出（output）确实存在于某个区块中的密码学证明。中本聪设计的SPV 能够让用户以较小的代价判断某个支付交易是否已经被验证过（存在于区块链中），以及得到了多少算力保护。SPV 客户端只需要下载所有区块的区块头，并进行简单的定位和计算工作就可以作出判断。在交易的最后一步中，“最终确定性” （ Finality ） 非常关键。原来，当区块链使用POW （工作性证明）的共识算法时，在足够大的算力下交易是可以被撤销的。在跨链交易中，从我们刚刚举的例子来看，每一步，每一个环节，如果不能被确认，那么交易就会停止。因此，我们需要一些方法去确定上一步的交易已经成功或被撤销。例如把我的比特币转到以太坊上，首先要把比特币在比特币区块链上转移到特定的锁定地址中。并把我在以太坊的地址附加在交易中。在此交易被矿工确定后，他们向以太坊的锚定智能合约（Peg Contract ）发送 SPV 验证。验证时，我在以太坊的地址就会被提取出来。最后，交易验证成功且满足最终确定性要求时，锚定智能合约就会自动从锁定地址中转账对等的资产到我的以太坊地址。示意图如下：

![在这里插入图片描述](imags\18.png)

 图3：来自csdn用户：Wizard go

侧链的安全性问题：攻击者只需要攻击最薄弱的侧链就可以破坏掉整个侧链系统，单一的侧链系统发生安全性问题，对于主链链和其他的侧链系统也会造成一定程度的影响，一旦恶意成员对某个侧链完成51%的攻击，就可以黑化一条侧链，同时生成一个伪造的最长侧链，用伪造的侧链币在主链比特币链中兑换成比特币，这样就会造成比特币的损失。侧链只会对交易是否来自最长的链做出验证，而不会真正的去验证交易信息。

### 主链

主链能够理解为官方推出的、独立的区块链网。

### 中继链

中继链（relay-chain）又名中继器，旨在构造一个第三方公有链，通过跨链消息传递协议，连接区块链网络中的其它链。可能这个说法比较高端，比较抽象，那我们换个接地气的说法：通过在两个链中加入一个通道，通道内创建一种特定的数据结构，使得两个链可以通过该通道内的数据结构进行跨链数据交互，这个加入的通道我们就称之为中继链。

### 同构链

同构在数学中表示两个图形存在某些性质相同，但是表现显示不同，并且存在映射关系。同构链是一个功能，是各个行业基于ULAM主链开发的侧链，使用ULAM共识运行出块，可以看成是一个独立的公链。同构链是和ULAM主链单向连接的，采用单向锚定，安全性可以由ULAM主链保证，同构链发生问题不会影响到ULAM主链。同构链也有共识机制，有独立的节点。同构链与ULAM主链具有相同的性质，但是在某些地方存在不同，同构链可以根据不同行业的需求来改变或者添加相应的功能和数据块。

## 